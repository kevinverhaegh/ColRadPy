.. _colradpy_dict:
=============================
ColRadPy Dictionary Structure
=============================

All data relavent to to a collisional radative is stored in the 'data' dictionary.
If data can be easily reproduced from data that is already stored in the dictionary
it is not store.


ColRadPy data
    atomic
    
    user
    
    input_file
    
    rates
        excit
        
        recomb
        
        ioniz
        
        burg_tully
        
    processed

    
**data**


+-------------------+-------------------------------------------------------+----------------+
|  key Name         | Description                                           | Data Type      |
+===================+=======================================================+================+
| atomic            |storage for data that is related to the atomic physics | dict           |
+-------------------+-------------------------------------------------------+----------------+
| user              | Data that was input by the user                       | dict           |
+-------------------+-------------------------------------------------------+----------------+
| input file        | Data from the input file (generally ADF04)            | dict           |
+-------------------+-------------------------------------------------------+----------------+
| rates             | Rates that go into the CR matrix ie excitation        | dict           |
+-------------------+-------------------------------------------------------+----------------+
| cr_matrix         | CR matrix and other matrix relate quanities           | dict           |
+-------------------+-------------------------------------------------------+----------------+
| processed         | processed quantities from the calculation             | dict           |
+-------------------+-------------------------------------------------------+----------------+


**atomic**


+-------------------+------------------------------------------------------+----------------+----------------------------------+
|  key Name         | Description                                          | Data Type      |     Size                         |
+===================+======================================================+================+==================================+
| charge_state      | ionization potential to next charge state            |  int           |      -                           |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
| iz0               |  Atomic number                                       |  int           |      -                           |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
| iz1               |  charge+1 ?                                          |  int           |      -                           |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
| element           |  atomic symbol                                       |  string        |      -                           |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
| ion_pot           | ionization potential to next ground/metastable (cm-1)| float arr      | (num metas parent)               |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
| ion_term          | term for the ionization level                        | string arr     | (num metas parent)               |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
| config            | Atomic configuration from input file                 | str arr        | (num levels)                     |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
|       L           | Angular momentum (0,1,2,3....) -> (S,P,D,F....)      | int arr        | (num levels)                     |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
|       S           | Total spin                                           | float arr      | (num levels)                     |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
|  w                | j value                                              | float arr      | (num levels)                     |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
|  energy           | Energy of level (cm-1)                               | float arr      | (num levels)                     |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
|  zpla             | scaling for ECIP same definition as ADAS             | float arr      | (num levels, len(ion_pot))       |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
|  zpla1            | Which ion_pot for ECIP same definition as ADAS       | int arr        | (num levels, len(ion_pot))       |
+-------------------+------------------------------------------------------+----------------+----------------------------------+
|  metas            | levels that user chose to be metastable              | int arr        | (user chosen levels)             |
+-------------------+------------------------------------------------------+----------------+----------------------------------+



**user**


+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                         |
+=================================+===================================================================+================+==================================+
| temp_grid                       | User chosen electron temperature grid for calculation (eV)        | float arr      | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| htemp_grid                      | User chosen hydrogen temperature grid for calculation (eV)        | float arr      | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| dens_grid                       | User chosen electron density grid for calculation (cm-3)          | float arr      | (user chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| hdens_grid                      | User chosen hydrogen density grid for calculation (cm-3)          | float arr      | (len(dens_grid))                 |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_ionization                  | User choice to include ionization in the calculation              | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| suppliment_with_ecip            | User choice to include suppliment onization with ECIP approx data | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_recombination_three_body    |User choice to include three body recombination in the calculation | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_recombination               |User choice to include recombination from file in the calculation  | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| use_cx                          |User choice to include thermal CX from file in the calculation     | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| scale_file_ioniz                |scale ionization in the file                                       | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| td_t                            |User chosen time points to solve time dependent calculation        | float arr      | (user_chosen)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| td_n0                           |User chosen initial level populations for TD calculation           | float arr      | (num_level)                      |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| td_source                       |User chosen source term for TD calculation                         | float arr      | (num_level)                      |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| default_pop_norm                |User choice on population norm                                     | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| file_loc                        | location of file used                                             | str            | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| temp_dens_pair                  | use temperature density pairs insteady of grids                   | bool           | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| file_loc                        | location of file used                                             | str            | -                                |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+

























**input_file**


+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                         |
+=================================+===================================================================+================+==================================+
| temp_grid                       | temperature grid from the input file (in K for ADF04 file)        | float arr      | (input file)                     |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| rates                           | unchanged copy of 'rates' from adf04 file                         | dict           |            -                     |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+
| atomic                          | unchanged copy of 'atomic' from adf04 file                        | dict           |            -                     |
+---------------------------------+-------------------------------------------------------------------+----------------+----------------------------------+


**rates**


+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                              |
+=================================+===================================================================+================+=======================================+
|  excit                          | dictionary that holds everything assosciated with excitation      | dict           |        -                              |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  recomb                         | dictionary that holds everything assosciated with recombination   | dict           |        -                              |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  ioniz                          | dictionary that holds everything assosciated with ionization      | dict           |        -                              |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  a_val                          | Spontaneous emission coefficients (Einstein A coefficients) (s-1) | float arr      | len(['rates']['excit']['col_excit'])  |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  inf_engy                       | Infinite energy points for excitation                             | float arr      | len(['rates']['excit']['col_excit'])  |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+


**excit**


+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                              |
+=================================+===================================================================+================+=======================================+
| col_transitions                 | array of upper and lower levels in transition                     | array          | (transitions in file, 2)              |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| col_excit                       | array excitation rates                                            | array          | (transitions in file, inputfile temp) |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| col_excit_interp                | array excitation rates                                            | array          | (transitions in file, user temp)      |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+




**ioniz**


+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                              |
+=================================+===================================================================+================+=======================================+
| ion_transitions                 | array of upper and lower levels in ionization transition          | array          | (trans in file, 2)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| ion_excit                       | array excitation rates from input file                            | array          |(len(ion_transitions), inputfile temp) |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| ionization                      | ionization values used in CR both from file and suppliment ECIP   | array          |(len(energy), len(ion_pot), user_temp) |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| ecip                            | ECIP rates calculated by ColRadPy                                 | array          |(len(energy), len(ion_pot), user_temp) |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+


**recomb**


+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                              |
+=================================+===================================================================+================+=======================================+
| recomb_transitions              | array of upper and lower levels in recombination transition       | array          | (trans in file, 2)                    |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| recomb_excit                    | array recombination rates in input file                           | array          | (len(energy), input temp)             |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| recomb_excit_interp_grid        | array recombination rates on user defined temperature grid        | array          | (len(energy), user temp)              |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| recomb_three_body               |array three body recombination rates for use in CR matrix (cm-6s-1)| array          | (len(energy),len(ion_pot), user temp) |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+
| recombination                   | array recombination rates for use in CR matrix (cm-3s-1)          | array          | (len(energy),len(ion_pot), user temp) |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------+



**cr_matrix**


+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                                                            |
+=================================+===================================================================+================+=====================================================================+
| q_ji                            | array of deexcitation rates                                       | array          | (len(energy), len(energy), user temp)                               |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
| q_ij                            | array of excitation rates                                         | array          | (len(energy), len(energy), user temp)                               |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
| A_ji                            | array of spontaneous rates                                        | array          | (len(energy), len(energy))                                          |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
| cr                              | collsional radiative matrix                                       | array          | (len(energy), len(energy),user temp, user den)                      |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
| cr_red_inv                      | Inverse of the reduced CR matrix                                  | array          | (len(energy) - metas, len(energy) - metas,user temp, user den)      |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
| beta                            | collsional radiative beta vector                                  | array          |(len(energy), len(metas)+len(ion_metas),user temp,user den)          |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
| aa_inv                          | reduced collisional radiative matrix after inversion              | array          |(len(energy)-len(metas),len(energy)-len(metas) user temp,user den)   |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+




**NIST**


+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                                                            |
+=================================+===================================================================+================+=====================================================================+
|     levels                      | NIST levels data base                                             | array          |                                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+
|     lines                       | NIST lines database                                               | array          |                                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+---------------------------------------------------------------------+








**processed**


+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                                                                       |
+=================================+===================================================================+================+================================================================================+
| pops                            | populations of excited levels                                     | array          | (len(energy)-len(metas), len(energy), user temp)                               |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|driving_populations_norm         | were driving populations normalized?                              | bool           |                                -                                               |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   pecs                          | photon emmisivity coefficients (ph cm3 s-1)                       | float arr      | (pecs, len(metas)+len(metas_ion), user_temp, user dens)                        |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   plt                           | total radiated line power      (W m3)                             | float arr      | (len(metas), user_temp, user dens)                                             |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   pec_levels                    | array of upper and lower levels that correspond pecs              | int arr        | (len(pecs),2)                                                                  |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   wave_vac                      | wavelength array for pecs in vacuum (nm)                          | float arr      | (len(pecs))                                                                    |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   wave_air                      | wavelength array for pecs in air (nm)                             | float arr      | (len(pecs))                                                                    |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   scd                           | effective ionization rate (ion cm3 s-1)                           | float arr      | (len(metas), len(metas_plus), user_temp,user_dens)                             |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   acd                           | effective recombination rate (recomb cm3 s-1)                     | float arr      | (len(metas), len(metas_plus), user_temp,user_dens)                             |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   qcd                           | metastable cross coupling coefficient  (cm3 s-1)                  | float arr      | (len(metas), len(metas), user_temp, user_dens)                                 |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   xcd                           | parent metastable cross coupling coefficient  (cm3 s-1)           | float arr      | (len(metas_plus), len(metas_plus), user_temp, user_dens)                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   ccd                           | charge exchange recombination coefficient     (cm3 s-1)           | float arr      | (len(metas_plus), len(metas_plus), user_temp, user_dens)                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   pop_lvl                       | how levels are populated from other levels                        | float arr      | (len(metas_plus), len(metas_plus), len(metas), user_temp, user_dens)           |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   pops_no_norm                  | populations of excited states with no normalization applied       | float arr      |(len(energy)-len(metas), len(energy)-len(metas), len(metas),user_temp,user_dens)|
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   F                             |F matrix (note this is diff from adas deff they divide by n_e)     | float arr      | (len(energy)-len(metas), len(metas), user_temp, user_dens)                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   split                         | hold parameters from splitting LS to LSJ (spectroscopically acc)  | dict           |                                 -                                              |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|      td                         | hold parameters for the time dependent solution  | dictionary     | dict           |                                 -                                              |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+


**split**


+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                                                                       |
+=================================+===================================================================+================+================================================================================+
|         config                  | Configuration of the split levels                                 | string arr     | Length of the number of split levels in the adf04 file                         |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|            L                    | L quantum number of the split levels                              | int arr        | (len(['split']['config']))                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|            S                    | S quantum number of the split levels                              | int arr        | (len(['split']['config']))                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|            j                    | j quantum number of the split levels                              | int arr        | (len(['split']['config']))                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|           term_map              | map from the split levels back to the term in the adf04 file      | int arr        | (len(['split']['config']))                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|           energy                | NIST energies of the split levels                                 | float arr      | (len(['split']['config']))                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|           pecs                  | PECs values for the PECs that could be split E-dipoles only       | float arr      | (len(['split']['pecs']))                                                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|           wave_air              | Wavelengths of the PECs that could be split                       | float arr      | (len(['split']['pecs']))                                                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|           relative_inten        | Relative intensities of the individual PECs in multiplet          | float arr      | (len(['split']['pecs']))                                                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|           pec_levels            | array of upper and lower split levels that correspond pecs        | int arr        | (len(['split']['pecs']),2)                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|   unsplit_pec_levels            | array of unsplit upper and lower terms for the split pecs         | int arr        | (len(['split']['pecs']),2)                                                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|               j_up              | hold over                                                         | int arr        | (len(pecs),2)                                                                  |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|           j_low                 | hold over                                                         | float arr      | (len(pecs))                                                                    |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|  unres_pec_map                  | map for the split PECs back to the unsplit PECs                   | float arr      | (len(['split']['pecs']))                                                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+





**td**


+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|  key Name                       | Description                                                       | Data Type      |     Size                                                                       |
+=================================+===================================================================+================+================================================================================+
|         td_pop                  | time dependent population                                         | float arr      | (len(energy), len(td_t), len(user_temp), len(user_dens))                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|         eigenvals               | eigenvalues of the system                                         | float arr      | (len(user_temp), len(user_dens), len(energy))                                  |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|         eigenvectors            | eigenvectors of the system                                        | float arr      | ( len(user_temp), len(user_dens), len(energy), len(energy)                     |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|         pecs                    | time dependent PEC                                                | float arr      | (len(energy), len(td_t), len(user_temp), len(user_dens))                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
|         scd                     | time dependent SCD                                                | float arr      | (len(energy), len(td_t), len(user_temp), len(user_dens))                       |
+---------------------------------+-------------------------------------------------------------------+----------------+--------------------------------------------------------------------------------+
